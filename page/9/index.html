<!doctype html><html lang=en dir=auto><head><meta name=generator content="Hugo 0.140.0-DEV"><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Mini Fish</title><meta name=description content="A Collection of Straightforward HOW-TO Guides"><meta name=author content="Jack Yu"><link rel=canonical href=https://blog.minifish.org/><link crossorigin=anonymous href=/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css integrity="sha256-1vzSCk+4bvpN+sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.minifish.org/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.minifish.org/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.minifish.org/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.minifish.org/apple-touch-icon.png><link rel=mask-icon href=https://blog.minifish.org/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://blog.minifish.org/index.xml><link rel=alternate type=application/json href=https://blog.minifish.org/index.json><link rel=alternate hreflang=en href=https://blog.minifish.org/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-G0H8JF722Y"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-G0H8JF722Y")}</script><meta property="og:url" content="https://blog.minifish.org/"><meta property="og:site_name" content="Mini Fish"><meta property="og:title" content="Mini Fish"><meta property="og:description" content="A Collection of Straightforward HOW-TO Guides"><meta property="og:locale" content="en-US"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Mini Fish"><meta name=twitter:description content="A Collection of Straightforward HOW-TO Guides"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"Mini Fish","url":"https://blog.minifish.org/","description":"A Collection of Straightforward HOW-TO Guides","logo":"https://blog.minifish.org/favicon.ico","sameAs":["https://x.com/jackysp","https://github.com/jackysp","https://www.linkedin.com/in/shuaipeng-yu-81280434/","mailto:i@minifish.org"]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.minifish.org/ accesskey=h title="Mini Fish (Alt + H)">Mini Fish</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://blog.minifish.org/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://blog.minifish.org/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>How to Implement MySQL X Protocol on TiDB</h2></header><div class=entry-content><p>Some Documents on MySQL Client Usage Guide MySQL Shell User Guide Server Configuration Guide Using MySQL as a Document Store Application Development API Guide X DevAPI User Guide Introduction to Server Internal Implementation X Protocol. Implementation Principle Communication between client and server is over TCP and the protocol uses protobuf. After the server receives a message, it decodes and analyzes it. The protocol includes a concept called namespace, which specifically refers to whether the namespace is empty or “sql”, in which case the message content is executed as a SQL statement; if it is “xplugin” or “mysqlx,” the message is handled in another way. The other ways can be divided into: Administrative commands CRUD operations “xplugin” and “mysqlx” have the same function, with the latter being the new name for the former, retained temporarily for compatibility. The content of “mysqlx” messages, apart from explicit command content like kill_client, are mostly transformed into SQL statements which the server processes, essentially turning most into a form where the namespace is “sql”. Implementation Steps Start a new server for TiDB. The relevant configuration parameters such as IP, port, and socket need to be set. Implement the reading and writing functionality for message communication. Write a process for this new server to establish connections, including authentication, that follows the protocol. Use tcpdump to capture messages between MySQL and the client to derive protocol content, implementing the process by understanding MySQL source code. The server should include contents like the Query Context from the original TiDB server, as it primarily translates into SQL for execution. Implement the decoding and handling of messages. Although only a sentence, the workload included is substantial. In mysqlx_all_msgs.h, all messages are initialized
...</p></div><footer class=entry-footer><span title='2017-08-16 00:00:00 +0000 UTC'>August 16, 2017</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;798 words&nbsp;·&nbsp;Jack Yu</footer><a class=entry-link aria-label="post link to How to Implement MySQL X Protocol on TiDB" href=https://blog.minifish.org/posts/mysqlx-protocol/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>How to Configure CentOS 6 NFS Service</h2></header><div class=entry-content><p>Server Side Disable SeLinux
Edit the configuration file:
vi /etc/selinux/config Modify as follows:
#SELINUX=enforcing # Comment out #SELINUXTYPE=targeted # Comment out SELINUX=disabled # Add this line Then reboot the system:
reboot # Restart the system Create a Directory
Using the root user, create a directory named /nfs. Note: It’s best to check which partition has the most space by running df, as the root (/) partition may not have the most space. In some automatic partitioning setups, the /home partition may have the most space.
...</p></div><footer class=entry-footer><span title='2014-06-05 22:21:06 +0800 +0800'>June 5, 2014</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;297 words&nbsp;·&nbsp;Jack Yu</footer><a class=entry-link aria-label="post link to How to Configure CentOS 6 NFS Service" href=https://blog.minifish.org/posts/centos6-nfs/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>How to Configure CentOS KVM Network Bridging Mode</h2></header><div class=entry-content><p>What Is Bridging Bridging highly simulates a network card, making the router believe that the virtual machine’s network card truly exists. Personally, I feel it’s similar to resistors connected in parallel, whereas NAT (another common virtual machine network connection method) is more like parasitizing on the host’s network card.
Why Use Bridging It allows you to treat the virtual machine as a completely independent machine, enabling mutual access with the external network (which is not possible with NAT).
...</p></div><footer class=entry-footer><span title='2014-06-05 22:21:06 +0800 +0800'>June 5, 2014</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;575 words&nbsp;·&nbsp;Jack Yu</footer><a class=entry-link aria-label="post link to How to Configure CentOS KVM Network Bridging Mode" href=https://blog.minifish.org/posts/centos6-kvm-net-bridge/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>How to Install CentOS as a Virtualization Host</h2></header><div class=entry-content><p>Installation Process Installed Version: CentOS 6.3
Using Win32DiskImager to create a USB flash drive image was unsuccessful; installing from an external USB optical drive was successful. During the installation process, make sure to select the “Virtual Host” installation mode. The rest can be set to default or slightly modified, such as choosing the time zone. After installation, it will include the KVM suite and SSH. Installation Notes No internet connection is needed throughout the process, which is much better than Debian and Ubuntu. You’re not forced to set up a non-root user. Before installation, be sure to check whether your CPU supports virtualization and enable the motherboard’s virtualization setting. If the motherboard supports virtualization but doesn’t have a virtualization option, you can still use virtualization as it’s definitely enabled by default. There’s a saying that Intel CPUs with a ‘K’ cannot perform virtualization. ‘K’ means Intel CPUs that can be overclocked. It seems that faster and newer CPUs are not necessarily better.</p></div><footer class=entry-footer><span title='2014-06-05 22:21:06 +0800 +0800'>June 5, 2014</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;162 words&nbsp;·&nbsp;Jack Yu</footer><a class=entry-link aria-label="post link to How to Install CentOS as a Virtualization Host" href=https://blog.minifish.org/posts/centos6-install/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>How to Practice Using SQL</h2></header><div class=entry-content><p>The text provided is a detailed set of instructions and queries for practicing SQL using PostgreSQL 9.4 BETA 2, focusing on creating and querying tables related to students, courses, scores, and teachers. Here’s a summary:
Database Structure The database consists of four tables:
STUDENT: Contains student number (SNO), name (SNAME), gender (SSEX), birthday (SBIRTHDAY), and class (CLASS). COURSE: Includes course number (CNO), name (CNAME), and teacher number (TNO). SCORE: Records student number (SNO), course number (CNO), and degree (DEGREE). TEACHER: Holds teacher number (TNO), name (TNAME), gender (TSEX), birthday (TBIRTHDAY), professional title (PROF), and department (DEPART). Sample Data Students such as Zeng Hua, Kang Ming, and Wang Fang are stored with specific details, including their class and gender. Courses like “Introduction to Computers” and “Operating Systems” are associated with teacher numbers. Scores are recorded for students across various courses. Teachers are described with their professional roles and departments. Query Problems Several SQL queries are suggested for practice, such as:
...</p></div><footer class=entry-footer><span title='2014-06-05 00:00:00 +0000 UTC'>June 5, 2014</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;472 words&nbsp;·&nbsp;Jack Yu</footer><a class=entry-link aria-label="post link to How to Practice Using SQL" href=https://blog.minifish.org/posts/postgresql-practices/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://blog.minifish.org/page/8/>«&nbsp;Prev&nbsp;8/9</a></nav></footer></main><footer class=footer><span>© Mini Fish 2014-present</span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>